# 校园直饮水系统

## 数据库

### 数据库结构

**饮水机表（WaterDispenser）**：

| 字段名         | 类型   | 描述     |
| :------------: | :----: | :------: |
| `id` 			| 主键   | 记录ID |
| `dispenser_id` | 数值   | 饮水机ID |
| `model`        | 字符串 | 型号     |
| `location`     | 字符串 | 安装位置 |

**消费记录表（Transaction）**：

|       字段名       |   类型   |   描述   |
| :----------------: | :------: | :------: |
|        `id`        |   主键   |  记录ID  |
|       `user`       |  字符串  |   用户   |
|   `dispenser_id`   |   外键   | 饮水机ID |
|      `amount`      |   数值   |   金额   |
| `transaction_time` | 日期时间 | 消费时间 |

**用户表（User）**：

|   字段名   |  类型  |  描述  |
| :--------: | :----: | :----: |
|    `id`    |  主键  | 用户ID |
|   `user`   | 字符串 | 用户名 |
| `password` | 字符串 |  密码  |
| `balance`  |  数值  |  余额  |

**饮水机状态表（DispenserStatus）**：

|     字段名     |   类型   |     描述     |
| :------------: | :------: | :----------: |
|      `id`      |   主键   |    记录ID    |
| `dispenser_id` |   外键   |   饮水机ID   |
|    `status`    |  字符串  |     状态     |
| `temperature`  |   数值   |     水温     |
|     `tds`      |   数值   |   TDS水质    |
|     `flow`     |  布尔值  | 是否出水状态 |
| `record_time`  | 日期时间 |   记录时间   |

